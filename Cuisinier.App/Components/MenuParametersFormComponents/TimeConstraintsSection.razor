@using MudBlazor

<MudDivider Class="my-4" />
<MudText Typo="Typo.h6" Class="mb-3">Temps de préparation et cuisson</MudText>

<MudGrid Class="mb-4">
    <MudItem xs="12" md="6">
        <MudSwitch T="bool" 
                  Value="@LimitPreparation" 
                  ValueChanged="@((bool value) => LimitPreparationChanged.InvokeAsync(value))"
                  Label="Limiter le temps de préparation"
                  Color="Color.Primary" />
        @if (LimitPreparation)
        {
            <MudNumericField T="int?" 
                          Value="@MaxPreparationMinutes"
                          ValueChanged="@((int? value) => MaxPreparationMinutesChanged.InvokeAsync(value))"
                          Label="Temps maximum (minutes)"
                          Min="5"
                          Max="300"
                          Variant="Variant.Outlined"
                          Class="mt-2" />
        }
    </MudItem>
    <MudItem xs="12" md="6">
        <MudSwitch T="bool" 
                  Value="@LimitCooking" 
                  ValueChanged="@((bool value) => LimitCookingChanged.InvokeAsync(value))"
                  Label="Limiter le temps de cuisson"
                  Color="Color.Primary" />
        @if (LimitCooking)
        {
            <MudNumericField T="int?" 
                          Value="@MaxCookingMinutes"
                          ValueChanged="@((int? value) => MaxCookingMinutesChanged.InvokeAsync(value))"
                          Label="Temps maximum (minutes)"
                          Min="5"
                          Max="600"
                          Variant="Variant.Outlined"
                          Class="mt-2" />
        }
    </MudItem>
</MudGrid>

@code {
    [Parameter] public bool LimitPreparation { get; set; }
    [Parameter] public EventCallback<bool> LimitPreparationChanged { get; set; }
    [Parameter] public int? MaxPreparationMinutes { get; set; }
    [Parameter] public EventCallback<int?> MaxPreparationMinutesChanged { get; set; }
    
    [Parameter] public bool LimitCooking { get; set; }
    [Parameter] public EventCallback<bool> LimitCookingChanged { get; set; }
    [Parameter] public int? MaxCookingMinutes { get; set; }
    [Parameter] public EventCallback<int?> MaxCookingMinutesChanged { get; set; }
}
