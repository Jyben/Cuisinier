@using MudBlazor

<MudDivider Class="my-4" />
<MudText Typo="Typo.h6" Class="mb-3">Apports nutritionnels</MudText>

<MudSwitch T="bool" 
          Value="@LimitKcal" 
          ValueChanged="@((bool value) => LimitKcalChanged.InvokeAsync(value))"
          Label="Limiter les calories par plat"
          Color="Color.Primary"
          Class="mb-3" />

@if (LimitKcal)
{
    <MudGrid Class="mb-4">
        <MudItem xs="12" md="6">
            <MudNumericField T="int?" 
                           Value="@MinValue"
                           ValueChanged="@((int? value) => MinValueChanged.InvokeAsync(value))"
                           Label="Calories minimum (kcal)"
                           Min="0"
                           Max="5000"
                           Variant="Variant.Outlined" />
        </MudItem>
        <MudItem xs="12" md="6">
            <MudNumericField T="int?" 
                           Value="@MaxValue"
                           ValueChanged="@((int? value) => MaxValueChanged.InvokeAsync(value))"
                           Label="Calories maximum (kcal)"
                           Min="0"
                           Max="5000"
                           Variant="Variant.Outlined" />
        </MudItem>
    </MudGrid>
}

@code {
    [Parameter] public bool LimitKcal { get; set; }
    [Parameter] public EventCallback<bool> LimitKcalChanged { get; set; }
    [Parameter] public int? MinValue { get; set; }
    [Parameter] public EventCallback<int?> MinValueChanged { get; set; }
    [Parameter] public int? MaxValue { get; set; }
    [Parameter] public EventCallback<int?> MaxValueChanged { get; set; }
}

